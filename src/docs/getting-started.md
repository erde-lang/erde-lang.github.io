# Getting Started

## Installation

The recommended way to install is through [luarocks](https://luarocks.org/modules/bsuth/erde):

```bash
luarocks install erde
```

Alternatively you can clone the [repo](https://github.com/erde-lang/erde) and 
update your PATH and [LUA_PATH](https://www.lua.org/pil/8.1.html) accordingly:

```bash
git clone https://github.com/erde-lang/erde.git
ERDE_ROOT="$(pwd)/erde"
export PATH="$ERDE_ROOT/bin:$PATH"
export LUA_PATH="$ERDE_ROOT/?.lua;$ERDE_ROOT/?/init.lua;$LUA_PATH"
```

You can check whether Erde is installed correctly by running:

```bash
erde -h
```

## Running Programs

Create an Erde file, which uses the `.erde` extension:

```bash
touch fibonacci.erde
```

And add some code to it:

```erde
function fibonacci(n) {
  local a, b = 0, 1

  for i = 1, n {
    a, b = b, a + b
    print(b)
  }
}

fibonacci(10)
```

We can run the file from the command line using the `erde run` command:

```bash
erde run fibonacci.erde
```

## Compiling Programs

Running Erde files directly is great for development, but for production code
we generally want to distribute Lua files instead. We can compile our
previous file into Lua using the `erde compile` command:

```bash
erde compile fibonacci.erde
```

This will create a `fibonacci.lua` file in the same directory. 

:::note

You can run the compiled file with the `lua` interpreter as a sanity check to 
make sure the output is the same:

```bash
lua fibonacci.lua
```

:::

## Cleaning Projects

By default, Lua files are generated next to their Erde counterparts in order to
ensure `require` resolutions are consistent. While this is great for
distribution, it clutters the directory and can feel somewhat noisy during 
development.

Erde keeps track of which files it has generated by injecting a special comment 
at the end of the file. This allows us to be able to clean all generated files
using:

```bash
erde clean
```

By default this will recursively clean all generated files under the current
directory.
