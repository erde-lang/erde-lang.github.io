"use strict";(self.webpackChunkerde_lang_github_io=self.webpackChunkerde_lang_github_io||[]).push([[537],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>c});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=s(a),c=r,k=d["".concat(p,".").concat(c)]||d[c]||m[c]||l;return a?n.createElement(k,o(o({ref:t},u),{},{components:a})):n.createElement(k,o({ref:t},u))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=d;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var s=2;s<l;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},1844:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>m,frontMatter:()=>l,metadata:()=>i,toc:()=>s});var n=a(7462),r=(a(7294),a(3905));const l={},o="Reference",i={unversionedId:"reference",id:"reference",title:"Reference",description:"This reference assumes a basic working knowledge of",source:"@site/src/docs/reference.md",sourceDirName:".",slug:"/reference",permalink:"/reference",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Examples",permalink:"/examples"}},p={},s=[{value:"Comments",id:"comments",level:2},{value:"Types",id:"types",level:2},{value:"Numbers",id:"numbers",level:3},{value:"Strings",id:"strings",level:3},{value:"Tables",id:"tables",level:3},{value:"Declarations / Scopes",id:"declarations--scopes",level:2},{value:"local",id:"local",level:3},{value:"global",id:"global",level:3},{value:"module",id:"module",level:3},{value:"Operators",id:"operators",level:2},{value:"Arithmetic Operators",id:"arithmetic-operators",level:3},{value:"Relational Operators",id:"relational-operators",level:3},{value:"Bitwise Operators",id:"bitwise-operators",level:3},{value:"Logical Operators",id:"logical-operators",level:3},{value:"Concatenation / Length Operator",id:"concatenation--length-operator",level:3},{value:"Assignment Operators",id:"assignment-operators",level:3},{value:"Logic Constructs",id:"logic-constructs",level:2},{value:"do",id:"do",level:3},{value:"if else",id:"if-else",level:3},{value:"for",id:"for",level:3},{value:"while",id:"while",level:3},{value:"repeat ... until",id:"repeat--until",level:3},{value:"try ... catch",id:"try--catch",level:3},{value:"continue",id:"continue",level:3},{value:"goto",id:"goto",level:3},{value:"Functions",id:"functions",level:2},{value:"Default Parameters",id:"default-parameters",level:3},{value:"Varargs",id:"varargs",level:3},{value:"Arrow Functions",id:"arrow-functions",level:3},{value:"Destructuring",id:"destructuring",level:2}],u={toc:s};function m(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"reference"},"Reference"),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"This reference assumes a basic working knowledge of\n",(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/manual/"},"Lua"),".")),(0,r.kt)("h2",{id:"comments"},"Comments"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/pil/1.3.html"},"Lua Comments")),(0,r.kt)("p",null,"Comments are unchanged from Lua. Both line comments and block comments are\nsupported."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"-- this is a single line comment\n\n--[[\n  this is a\n  block comment\n]]\n")),(0,r.kt)("h2",{id:"types"},"Types"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"true"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"nil")," are unchanged from Lua."),(0,r.kt)("h3",{id:"numbers"},"Numbers"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/manual/5.4/manual.html#3.1"},"Lua 5.4"),"\n",(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/manual/5.3/manual.html#3.1"},"Lua 5.3"),"\n",(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/manual/5.2/manual.html#3.1"},"Lua 5.2"),"\n",(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/manual/5.1/manual.html#2.1"},"Lua 5.1"),"\n(See 'numeric/numerical constant')"),(0,r.kt)("p",null,"Numbers are unchanged from Lua. However, since the syntax for numbers differs\nacross Lua 5.1 - Lua 5.4 (in particular, each version is either the same or a\nsuperset of the previous version) you should only use the syntax for the least\nsupported Lua version. If Erde detects that you are using a syntax that\nis not supported by your compilation targets, it will throw an error."),(0,r.kt)("p",null,"For example, trying to compile ",(0,r.kt)("inlineCode",{parentName:"p"},"0xA23p-4")," when targeting Lua 5.1+ will cause\ncompilation errors, since hexadecimal exponents were not added until Lua 5.2."),(0,r.kt)("h3",{id:"strings"},"Strings"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/pil/2.4.html"},"Lua Strings")),(0,r.kt)("p",null,"String are ",(0,r.kt)("em",{parentName:"p"},"mostly")," unchanged from Lua. Erde additionally allows for\ninterpolation via braces when using double quote or block strings. Braces may be\nescaped to be used literally and escaping the end brace is optional."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"local msg = 'world'\n\nlocal doubleQuotes = \"hello {msg}\"\nlocal multiline = [[hello {msg}]]\n\n-- equivalent\nlocal braceLiteral1 = '\\{ 1, 2 \\}'\nlocal braceLiteral2 = '\\{ 1, 2 }'\n")),(0,r.kt)("h3",{id:"tables"},"Tables"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/pil/2.5.html"},"Lua Tables")),(0,r.kt)("p",null,"Tables are unchanged from Lua, including that tables use 1-based indexing."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"local a = { hello = 'world' }\nlocal b = { ...a }\nprint(b.hello) -- world\n")),(0,r.kt)("h2",{id:"declarations--scopes"},"Declarations / Scopes"),(0,r.kt)("p",null,"Unlike Lua, all variable declarations in Erde require a scope keyword, which is\none of ",(0,r.kt)("inlineCode",{parentName:"p"},"local"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"global"),", or ",(0,r.kt)("inlineCode",{parentName:"p"},"module"),". Erde will throw an error for declarations\nthat are missing a scope."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"-- okay\nlocal myVar\n\n-- error! undeclared variable\nmyOtherVar = 2\n")),(0,r.kt)("p",null,"For function declarations, the scope is optional; when the scope is\nomitted, the function will default to ",(0,r.kt)("inlineCode",{parentName:"p"},"local"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"-- These are equivalent!\n\nfunction myFunction() { }\nlocal function myFunction() { }\n")),(0,r.kt)("h3",{id:"local"},"local"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/pil/4.2.html"},"Lua Local Variables")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"local")," scope is unchanged from Lua."),(0,r.kt)("h3",{id:"global"},"global"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/pil/1.2.html"},"Lua Global Variables")),(0,r.kt)("p",null,"Global variables in Erde ",(0,r.kt)("em",{parentName:"p"},"require")," the ",(0,r.kt)("inlineCode",{parentName:"p"},"global")," keyword. Thus the following is\nno longer valid:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"MY_GLOBAL = 1\n")),(0,r.kt)("p",null,"Erde will throw an error about trying to assign a value to an undeclared\nvariable. Instead, you can use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"global MY_GLOBAL = 1\n")),(0,r.kt)("p",null,"Since Erde evaluates all variable declarations separately for each file, any\nglobals you use in one file that are declared in another will need to declared\nbefore use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde",metastring:'title="foo.erde"',title:'"foo.erde"'},'global FOO = "foo"\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde",metastring:'title="bar.erde"',title:'"bar.erde"'},"global FOO\n\nprint(FOO) -- prints: foo\n")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Since functions default to ",(0,r.kt)("inlineCode",{parentName:"p"},"local")," scope, global functions need to be explicitly\ndeclared as global:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"global function myGlobalFunc() {}\n"))),(0,r.kt)("h3",{id:"module"},"module"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"module")," keyword acts as an ",(0,r.kt)("inlineCode",{parentName:"p"},"export")," statement. Anything declared with the\n",(0,r.kt)("inlineCode",{parentName:"p"},"module")," scope will be placed into a table, which is then returned at the end of\nthe script. It may only occur at the top level of a module and may not be used\nin conjunction with ",(0,r.kt)("inlineCode",{parentName:"p"},"return"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde",metastring:'title="foo.erde"',title:'"foo.erde"'},"module function echo(msg) {\n  print(msg)\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde",metastring:'title="bar.erde"',title:'"bar.erde"'},"local foo = require('foo')\nfoo.echo('hello world') -- prints: hello world\n")),(0,r.kt)("p",null,"Note that this keyword conflicts with the built-in ",(0,r.kt)("inlineCode",{parentName:"p"},"module")," function in Lua 5.1,\nwhich means that the ",(0,r.kt)("inlineCode",{parentName:"p"},"module")," function is not usable in Erde (although the use\nof Lua's ",(0,r.kt)("inlineCode",{parentName:"p"},"module")," function is ",(0,r.kt)("a",{parentName:"p",href:"http://lua-users.org/wiki/LuaModuleFunctionCritiqued"},"highly discouraged"),"\nanyways)."),(0,r.kt)("h2",{id:"operators"},"Operators"),(0,r.kt)("h3",{id:"arithmetic-operators"},"Arithmetic Operators"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/manual/5.4/manual.html#3.4.1"},"Lua Arithmetic Operators")),(0,r.kt)("p",null,"Unchanged from Lua."),(0,r.kt)("center",null,(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Syntax"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Operator"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Example"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"+"),(0,r.kt)("td",{parentName:"tr",align:"left"},"addition"),(0,r.kt)("td",{parentName:"tr",align:"left"},"1 + 2 == 3")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"subtraction"),(0,r.kt)("td",{parentName:"tr",align:"left"},"1 - 2 == -1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"unary minus"),(0,r.kt)("td",{parentName:"tr",align:"left"},"-4")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"*"),(0,r.kt)("td",{parentName:"tr",align:"left"},"multiplication"),(0,r.kt)("td",{parentName:"tr",align:"left"},"2 ","*"," 4 == 8")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"/"),(0,r.kt)("td",{parentName:"tr",align:"left"},"division"),(0,r.kt)("td",{parentName:"tr",align:"left"},"10 / 2 == 5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"//"),(0,r.kt)("td",{parentName:"tr",align:"left"},"floor division"),(0,r.kt)("td",{parentName:"tr",align:"left"},"10 // 4 == 2")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"^"),(0,r.kt)("td",{parentName:"tr",align:"left"},"exponentiation"),(0,r.kt)("td",{parentName:"tr",align:"left"},"2 ^ 6 == 64")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"%"),(0,r.kt)("td",{parentName:"tr",align:"left"},"modulo"),(0,r.kt)("td",{parentName:"tr",align:"left"},"6 % 2 == 0"))))),(0,r.kt)("br",null),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Floor division (",(0,r.kt)("inlineCode",{parentName:"p"},"//"),") was not introduced until Lua 5.3, but is simple enough\nthat the compiler will polyfill it for you if necessary.")),(0,r.kt)("h3",{id:"relational-operators"},"Relational Operators"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/manual/5.4/manual.html#3.4.4"},"Lua Relational Operators")),(0,r.kt)("p",null,"The NEQ operator uses ",(0,r.kt)("inlineCode",{parentName:"p"},"!=")," instead of Lua's ",(0,r.kt)("inlineCode",{parentName:"p"},"~="),". This is due to the fact that\nErde supports both ",(0,r.kt)("a",{parentName:"p",href:"#bitwise-operators"},"Bitwise Operators")," as well as\n",(0,r.kt)("a",{parentName:"p",href:"#assignment-operators"},"Assignment Operators"),", which causes ambiguity on whether\n",(0,r.kt)("inlineCode",{parentName:"p"},"~=")," represents the traditional NEQ operator or the XOR assignment operator.\nBecause the bitwise operators are not used very often, I felt is was better to\nmaintain consistency with Lua here, especially since the NEQ operator has a\nvery popular alternative that is present in nearly every other programming\nlanguage."),(0,r.kt)("center",null,(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Syntax"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Operator"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Example"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"=="),(0,r.kt)("td",{parentName:"tr",align:"left"},"equality"),(0,r.kt)("td",{parentName:"tr",align:"left"},"1 + 1 == 2")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"!="),(0,r.kt)("td",{parentName:"tr",align:"left"},"inequality"),(0,r.kt)("td",{parentName:"tr",align:"left"},"1 + 1 != 3")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"<"),(0,r.kt)("td",{parentName:"tr",align:"left"},"less than"),(0,r.kt)("td",{parentName:"tr",align:"left"},"3 < 5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},">"),(0,r.kt)("td",{parentName:"tr",align:"left"},"greater than"),(0,r.kt)("td",{parentName:"tr",align:"left"},"9 > 7")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"<="),(0,r.kt)("td",{parentName:"tr",align:"left"},"less or equal"),(0,r.kt)("td",{parentName:"tr",align:"left"},"9 >= 8, 9 >= 9")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},">="),(0,r.kt)("td",{parentName:"tr",align:"left"},"greater or equal"),(0,r.kt)("td",{parentName:"tr",align:"left"},"9 <= 11, 11 <= 11"))))),(0,r.kt)("h3",{id:"bitwise-operators"},"Bitwise Operators"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/manual/5.4/manual.html#3.4.2"},"Lua Bitwise Operators")),(0,r.kt)("p",null,"Erde supports bitwise operators and uses the same syntax as Lua 5.3+:"),(0,r.kt)("center",null,(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Syntax"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Operator"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Example"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"|"),(0,r.kt)("td",{parentName:"tr",align:"left"},"or"),(0,r.kt)("td",{parentName:"tr",align:"left"},"0b100 .","|"," 0b010 == 0b110")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"&"),(0,r.kt)("td",{parentName:"tr",align:"left"},"and"),(0,r.kt)("td",{parentName:"tr",align:"left"},"0b110 .& 0b101 == 0b100")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"~"),(0,r.kt)("td",{parentName:"tr",align:"left"},"xor"),(0,r.kt)("td",{parentName:"tr",align:"left"},"0b110 .~ 0b101 == 0b011")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"~"),(0,r.kt)("td",{parentName:"tr",align:"left"},"unary NOT"),(0,r.kt)("td",{parentName:"tr",align:"left"},".~0b100 == 0b011")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},">>"),(0,r.kt)("td",{parentName:"tr",align:"left"},"right shift"),(0,r.kt)("td",{parentName:"tr",align:"left"},"0b010 .>> 1 == 0b001")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"<<"),(0,r.kt)("td",{parentName:"tr",align:"left"},"left shift"),(0,r.kt)("td",{parentName:"tr",align:"left"},"0b010 .<< 1 == 0b100"))))),(0,r.kt)("br",null),(0,r.kt)("p",null,"When compiling to Lua 5.1 or 5.2, Erde will assume the target platform has\naccess to the ",(0,r.kt)("a",{parentName:"p",href:"http://bitop.luajit.org"},"BitOp")," module and bit operations will\ncompile down to ",(0,r.kt)("inlineCode",{parentName:"p"},"require('bit').xxx()")," calls."),(0,r.kt)("h3",{id:"logical-operators"},"Logical Operators"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/manual/5.4/manual.html#3.4.5"},"Lua Logical Operators")),(0,r.kt)("p",null,"Due to Erde favor of symbols over words, the logical operators are quite\ndifferent than Lua."),(0,r.kt)("center",null,(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Syntax"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Operator"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Example"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"|","|"),(0,r.kt)("td",{parentName:"tr",align:"left"},"or"),(0,r.kt)("td",{parentName:"tr",align:"left"},"true ","|","|"," false == true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"&&"),(0,r.kt)("td",{parentName:"tr",align:"left"},"and"),(0,r.kt)("td",{parentName:"tr",align:"left"},"true && false == false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"!"),(0,r.kt)("td",{parentName:"tr",align:"left"},"unary NOT"),(0,r.kt)("td",{parentName:"tr",align:"left"},"!false == true"))))),(0,r.kt)("br",null),(0,r.kt)("p",null,"The unary logical NOT operator uses the ",(0,r.kt)("inlineCode",{parentName:"p"},"!")," token to maintain consistency with\nthe NEQ operator (see ",(0,r.kt)("a",{parentName:"p",href:"#relational-operators"},"Relational Operators"),")."),(0,r.kt)("h3",{id:"concatenation--length-operator"},"Concatenation / Length Operator"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/manual/5.4/manual.html#3.4.6"},"Lua Concatenation Operator")," ",(0,r.kt)("br",null),"\n",(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/manual/5.4/manual.html#3.4.7"},"Lua Length Operators")),(0,r.kt)("p",null,"Unchanged from Lua."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},'print("hello" .. "world") -- helloworld\nprint(#"hello") -- 5\n')),(0,r.kt)("h3",{id:"assignment-operators"},"Assignment Operators"),(0,r.kt)("p",null,"All binary operators (except of course ",(0,r.kt)("a",{parentName:"p",href:"#relational-operators"},"Relational Operators"),")\nsupport assignment operator shorthands:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"local x = 4\nx += 6\nx /= 2\nprint(x) -- prints: 5\n")),(0,r.kt)("h2",{id:"logic-constructs"},"Logic Constructs"),(0,r.kt)("p",null,"All logic constructs in Lua (",(0,r.kt)("inlineCode",{parentName:"p"},"do"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"if...else"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"for"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"while"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"repeat...until"),")\nare the same in Erde, with the exception of using braces instead of ",(0,r.kt)("inlineCode",{parentName:"p"},"end"),". Erde\nadditionally adds a ",(0,r.kt)("inlineCode",{parentName:"p"},"continue")," statement and ",(0,r.kt)("inlineCode",{parentName:"p"},"try...catch")," construct."),(0,r.kt)("h3",{id:"do"},"do"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/pil/4.2.html"},"Lua Do Block")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"do {\n  ...\n}\n")),(0,r.kt)("h3",{id:"if-else"},"if else"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/pil/4.3.1.html"},"Lua Do Block")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"if n > 0 {\n  ...\n} elseif n < 0 {\n  ...\n} else {\n  ...\n}\n")),(0,r.kt)("h3",{id:"for"},"for"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/pil/4.3.4.html"},"Lua Numeric For Loop")," ",(0,r.kt)("br",null),"\n",(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/pil/4.3.5.html"},"Lua Generic For Loop")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"for i = 1, 10, 1 {\n  ...\n}\n\nfor i, v in ipairs({ 1, 2, 3 }) {\n  ...\n}\n")),(0,r.kt)("h3",{id:"while"},"while"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/pil/4.3.2.html"},"Lua While Loop")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"while true {\n  ...\n}\n")),(0,r.kt)("h3",{id:"repeat--until"},"repeat ... until"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/pil/4.3.3.html"},"Lua Repeat Until")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"repeat {\n  ...\n} until true\n")),(0,r.kt)("h3",{id:"try--catch"},"try ... catch"),(0,r.kt)("p",null,"Erde support ",(0,r.kt)("inlineCode",{parentName:"p"},"try...catch")," statements to catch errors thrown by Lua's ",(0,r.kt)("inlineCode",{parentName:"p"},"error"),"\nfunction. Under the hood it is simply a wrapper around ",(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/pil/8.4.html"},"pcall"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"try {\n  error('my error message')\n} catch err {\n  print(err) -- prints: my error message\n}\n")),(0,r.kt)("p",null,"The catch variable is optional and can be destructured if you are expecting a\ntable to be thrown:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"-- Destructured error\n\ntry {\n  error({ err = 'my error message' })\n} catch { err } {\n  print(err) -- prints: my error message\n}\n\n-- Ignored error\n\ntry {\n  error('my error message')\n} catch {\n  print('my custom error message') -- prints: my custom error message\n}\n")),(0,r.kt)("h3",{id:"continue"},"continue"),(0,r.kt)("p",null,"Erde adds the ",(0,r.kt)("inlineCode",{parentName:"p"},"continue")," keyword, which will advance to the next iteration of\nthe closest looping block (",(0,r.kt)("inlineCode",{parentName:"p"},"for"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"while"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"repeat...until"),")."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"for i = 1, 10 {\n  if i % 2 == 0 {\n    continue\n  }\n\n  print('i is odd')\n}\n")),(0,r.kt)("h3",{id:"goto"},"goto"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"http://lua-users.org/wiki/GotoStatement"},"Lua Goto")),(0,r.kt)("p",null,"Erde has support for the Lua's ",(0,r.kt)("inlineCode",{parentName:"p"},"goto")," statement available in Lua 5.2+. Note that\nthere is no way to mimic this behavior in 5.1, so trying to use ",(0,r.kt)("inlineCode",{parentName:"p"},"goto")," when\ntargeting 5.1+ will result in an error."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"goto myJump\n\nprint('this is skipped')\n\n::myJump::\nprint('hello world')\n")),(0,r.kt)("h2",{id:"functions"},"Functions"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/pil/5.html"},"Lua Functions")),(0,r.kt)("p",null,"Function declarations are the same as Lua, but use braces instead of ",(0,r.kt)("inlineCode",{parentName:"p"},"end"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"local function sum(a, b) {\n  return a + b\n}\n")),(0,r.kt)("p",null,"As stated in ",(0,r.kt)("a",{parentName:"p",href:"#declarations--scopes"},"Declarations / Scopes"),", the scope of a\nfunction is optional and defaults to ",(0,r.kt)("em",{parentName:"p"},"local"),". Functions also support the\n",(0,r.kt)("a",{parentName:"p",href:"#module"},"module")," scope:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"-- This is a local function!\nfunction sum(a, b) {\n  return a + b\n}\n\n-- This is an exported function\nmodule function sum(a, b) {\n  return a + b\n}\n")),(0,r.kt)("h3",{id:"default-parameters"},"Default Parameters"),(0,r.kt)("p",null,"Erde has support for parameter defaults. Since all parameters in Lua are\noptional, any parameter in Erde may be assigned a default value. In particular,\ndefaulted parameters do not need to come after non-defaulted ones."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"function myfunc(a, b = 1, c) {\n  return a + b + c\n}\n\nmyfunc(1, nil, 3) -- 5\n")),(0,r.kt)("h3",{id:"varargs"},"Varargs"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/pil/5.2.html"},"Lua Varargs")),(0,r.kt)("p",null,"Erde supports variadic arguments from Lua:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"function sum(...) {\n  local total = 0\n\n  for _, summand in ipairs({ ... }) {\n    total += summand\n  }\n\n  return total\n}\n")),(0,r.kt)("p",null,"Additionally, Erde provides the ability to give variadic arguments a name, which\nwill place them into a table for you:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"function sum(...summands) {\n  local total = 0\n\n  for _, summand in ipairs(summands) {\n    total += summand\n  }\n\n  return total\n}\n")),(0,r.kt)("h3",{id:"arrow-functions"},"Arrow Functions"),(0,r.kt)("p",null,"Lua's anonymous function syntax (",(0,r.kt)("inlineCode",{parentName:"p"},"function() ... end"),") is not valid in Erde.\nInstead, Erde opts for arrow functions:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"local sum = (a, b) -> {\n  return a + b\n}\n")),(0,r.kt)("p",null,"Arrow functions can implicitly take ",(0,r.kt)("inlineCode",{parentName:"p"},"self")," as the first parameter by using a\nfat arrow instead of a skinny one\n(",(0,r.kt)("a",{parentName:"p",href:"https://moonscript.org/reference/#the-language/function-literals/fat-arrows"},"inspired by MoonScript"),"):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"local Person = { name = 'world' }\n\nPerson.introduce = () => {\n  print(self.name)\n}\n")),(0,r.kt)("p",null,"Arrow function mays also specify an expression instead of a function body. In\nthis case, the expression becomes the return value. If multiple values are being\nreturned, the expression list needs to be wrapped in parentheses."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"-- Return single value\nlocal getRandomNumber = () -> math.random()\n\n-- Return multiple values (must use parentheses!)\nlocal getRandomNumbers = () -> (\n  math.random(),\n  math.random(),\n)\n")),(0,r.kt)("p",null,"The parameter parentheses are optional if there is only one parameter, as long\nas it does not have a default and is not variadic. This includes destructured\nparameters."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"local greet = name -> print(\"hello {name}!\")\ngreet({ name = 'world' })\n\n-- w/ destructuring\nlocal greet = { name } -> print(\"hello {name}!\")\ngreet({ name = 'world' })\n\n-- not valid!\nlocal greet = ... -> print(...)\nlocal greet = name = 'bob' -> print(name)\n")),(0,r.kt)("h2",{id:"destructuring"},"Destructuring"),(0,r.kt)("p",null,"Erde supports a simple form of ",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment"},"destructuring"),",\nwhich is a convenient way to extract values from a table."),(0,r.kt)("p",null,"To extract keys from a table, you may specify a list of names in braces:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"local a = { hello = 'world' }\n\n-- Destructure `a` to extract the `hello` property\n-- This is equivalent to `local hello = a.hello`\nlocal { hello } = a\n\nprint(hello) -- prints: world\n")),(0,r.kt)("p",null,"To extract from the array section of a table, you can use brackets:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"local a = {\n  hello = 'world',\n  'first index',\n  'second index',\n}\n\n-- Destructure array elements. This is equivalent to: \n-- `local first = a[1]`\n-- `local second = a[2]`\nlocal [first, second] = a\n\nprint(first) -- prints: first index\nprint(second) -- prints: second index\n")),(0,r.kt)("p",null,"Destructured values may be given aliases or default values. Aliases simply\nrename the destructured field and default values are used to replace ",(0,r.kt)("inlineCode",{parentName:"p"},"nil"),". When\nusing both, aliases must come before defaults"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-erde"},"local a = { hello = 'world' }\n\n-- Alias\nlocal { hello: myHello } = a\nprint(myHello) -- prints: world\n\n-- Default\nlocal { world = 'default msg' } = a\nprint(world) -- prints: default msg\n\n-- Alias + Default\nlocal { world: myWorld = 'default msg' } = a\nprint(myWorld) -- prints: default msg\n")),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"Using aliases inside of array destructuring is invalid syntax, as every name is\nalready an alias.")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Unlike most languages, nested destructuring is ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"not"))," supported. This is\nintentional, as nested destructuring syntax makes code more cryptic and\ndifficult to read.")))}m.isMDXComponent=!0}}]);