<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-changelog">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Changelog | Erde</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://erde-lang.github.io/changelog"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Changelog | Erde"><meta data-rh="true" name="description" content="Format based on Keep a Changelog."><meta data-rh="true" property="og:description" content="Format based on Keep a Changelog."><link data-rh="true" rel="icon" href="/logo.svg"><link data-rh="true" rel="canonical" href="https://erde-lang.github.io/changelog"><link data-rh="true" rel="alternate" href="https://erde-lang.github.io/changelog" hreflang="en"><link data-rh="true" rel="alternate" href="https://erde-lang.github.io/changelog" hreflang="x-default"><script src="/fengari-web.js"></script>
<script src="/erde-preload.lua" type="application/lua" async="true"></script><link rel="stylesheet" href="/assets/css/styles.d797e778.css">
<link rel="preload" href="/assets/js/runtime~main.98e112e3.js" as="script">
<link rel="preload" href="/assets/js/main.c49dfe16.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/logo.svg" alt="Erde Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/logo.svg" alt="Erde Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Erde</b></a><a aria-current="page" class="navbar__item navbar__link erde-version navbar__link--active" href="/changelog">1.0.0-1</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/erde-lang/erde" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link github-logo"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/reference">Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/breaking-changes-lua">Breaking Changes w/ Lua</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/error-rewriting">Error Rewriting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/api">API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/playground">Playground</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/changelog">Changelog</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Changelog</h1><p>Format based on <a href="https://keepachangelog.com/en/1.0.0/" target="_blank" rel="noopener noreferrer">Keep a Changelog</a>.</p><p>Versioning based on <a href="https://semver.org/" target="_blank" rel="noopener noreferrer">Semantic Versioning</a>, with suffix
based on <a href="https://github.com/luarocks/luarocks/wiki/Rockspec-format" target="_blank" rel="noopener noreferrer">rockspec versioning</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="100-1---august-11-2023">[1.0.0-1]<!-- --> - August 11, 2023<a href="#100-1---august-11-2023" class="hash-link" aria-label="Direct link to 100-1---august-11-2023" title="Direct link to 100-1---august-11-2023">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changed">Changed<a href="#changed" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h3><ul><li>No longer allow keywords as index fields (generated invalid Lua code)</li><li>Loaded compiled Lua chunks now have their source names embedded in their chunkname<ul><li><a href="https://github.com/erde-lang/erde/issues/27" target="_blank" rel="noopener noreferrer">https://github.com/erde-lang/erde/issues/27</a></li></ul></li><li>Operator assignments no longer cause unnecessary duplicate indexing<ul><li><a href="https://github.com/erde-lang/erde/issues/29" target="_blank" rel="noopener noreferrer">https://github.com/erde-lang/erde/issues/29</a></li><li>ex) <code>my_expensive_function().x += 1</code> will now only call <code>my_expensive_function</code> once.</li><li>ex) <code>a.b.c += 1</code> will only cause <code>a</code> to be indexed once.</li></ul></li><li>Erde now transforms variable names based on the scope they were declared with.<ul><li>The most recently declared scope will always take precedence</li><li>ex) <code>local x = 0; global x = 1; assert(x == 1)</code></li></ul></li><li>Erde now throws a parsing error when declaring a destructured variable with no value (ex. <code>local { a };</code>)</li><li>Erde now throws a parsing error when using <code>goto</code> with an undefined label (same behavior as Lua)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixed">Fixed<a href="#fixed" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h3><ul><li>Fixed allowing keywords as variable names</li><li>Fixed compilation error for interpolation strings with only an escaped brace<ul><li><a href="https://github.com/erde-lang/erde/issues/24" target="_blank" rel="noopener noreferrer">https://github.com/erde-lang/erde/issues/24</a></li></ul></li><li>Fixed return list failing to parse surround chars in strings<ul><li><a href="https://github.com/erde-lang/erde/issues/21" target="_blank" rel="noopener noreferrer">https://github.com/erde-lang/erde/issues/21</a></li></ul></li><li>Fixed not being able to assign to the index of a function call result<ul><li><a href="https://github.com/erde-lang/erde/issues/26" target="_blank" rel="noopener noreferrer">https://github.com/erde-lang/erde/issues/26</a></li></ul></li><li>Fixed parsing table string entry with only <code>=</code><ul><li><a href="https://github.com/erde-lang/erde/issues/28" target="_blank" rel="noopener noreferrer">https://github.com/erde-lang/erde/issues/28</a></li></ul></li><li>Fixed compilation of function declarations with Lua keywords<ul><li><a href="https://github.com/erde-lang/erde/issues/25" target="_blank" rel="noopener noreferrer">https://github.com/erde-lang/erde/issues/25</a></li></ul></li><li>Fixed operator precedence fighting in operator assignments<ul><li><a href="https://github.com/erde-lang/erde/issues/20" target="_blank" rel="noopener noreferrer">https://github.com/erde-lang/erde/issues/20</a></li></ul></li><li>Fixed <code>erde compile</code> failing when parent directories are not present<ul><li>parent directories are now created recursively as needed</li></ul></li><li>Fixed mismatched names for Lua keywords when accessing <code>_G</code> or <code>_MODULE</code><ul><li><a href="https://github.com/erde-lang/erde/issues/18" target="_blank" rel="noopener noreferrer">https://github.com/erde-lang/erde/issues/18</a></li></ul></li><li>Fixed <code>module</code> declarations not updating <code>_MODULE</code><ul><li><a href="https://github.com/erde-lang/erde/issues/22" target="_blank" rel="noopener noreferrer">https://github.com/erde-lang/erde/issues/22</a></li></ul></li><li>Fixed <code>continue</code> generating invalid code when targeting 5.1(+)<ul><li><a href="https://github.com/erde-lang/erde/issues/34" target="_blank" rel="noopener noreferrer">https://github.com/erde-lang/erde/issues/34</a></li></ul></li><li>Fixed return lists incorrectly interpreting expression commas as list commas<ul><li>For example, returning an iife with a comma in the function body</li></ul></li><li>Fixed mangled stacktrace for <code>bit</code> library tail calls<ul><li><a href="https://www.freelists.org/post/luajit/Bad-stack-trace-from-lua-getstack-and-lua-getinfo,1" target="_blank" rel="noopener noreferrer">https://www.freelists.org/post/luajit/Bad-stack-trace-from-lua-getstack-and-lua-getinfo,1</a></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="added">Added<a href="#added" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h3><ul><li>Erde will now throw a compiler error when targeting <code>5.1</code>, <code>5.1+</code>, or <code>jit</code>, and there are additional statements following a <code>break</code>.<ul><li>Lua 5.1 / LuaJIT do not support statements following <code>break</code> (parsing error, similar to <code>return</code>)</li><li><a href="https://github.com/erde-lang/erde/issues/34" target="_blank" rel="noopener noreferrer">https://github.com/erde-lang/erde/issues/34</a></li></ul></li><li>Compiled files now include the Lua target at the bottom of the compiled file.</li><li>Added specific error checks for common mistakes<ul><li><code>~=</code> vs <code>!=</code></li><li><code>elseif</code> vs <code>else if</code></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="060-1---june-16-2023">[0.6.0-1]<!-- --> - June 16, 2023<a href="#060-1---june-16-2023" class="hash-link" aria-label="Direct link to 060-1---june-16-2023" title="Direct link to 060-1---june-16-2023">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changed-1">Changed<a href="#changed-1" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h3><ul><li>BREAKING CHANGE: Functions no longer default to <code>local</code><ul><li>Differs too much from vanilla Lua</li><li>Unexpected behavior, especially for newer users</li><li>More confusing than helpful</li></ul></li><li>Allow excluding target from <code>load</code> (i.e. allow options table as only argument)</li><li>When using the <code>module</code> keyword, users can now access the module table via <code>_MODULE</code>.<ul><li><code>_MODULE</code> is declared at the top of the module (accessible anywhere)</li><li><code>module</code> declarations are immediately added to the <code>_MODULE</code> table</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-1">Fixed<a href="#fixed-1" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h3><ul><li>Fixed throwing object when failing to load compiled code</li><li>Fixed erde loaders not handling multiple returns (package loader &amp;&amp; <code>erde.run</code>)</li><li>Fixed incorrect source map when code starts with newlines</li><li>Fixed incorrect source map for function call statements</li><li><code>erde.traceback</code> now properly handles non-string messages<ul><li>message is returned immediately without further processing</li><li>same behavior as Lua&#x27;s native <code>debug.traceback</code></li></ul></li><li>The bitwise unary <code>~</code> operator now properly uses native Lua for 5.3+ (previously always used bitlib)</li><li>Erde now properly reports error lines as compiled error lines when there is no sourcemap</li><li>Erde now properly injects the compile footer for empty files</li><li>Fixed not throwing error when using both <code>return</code> and <code>module</code></li><li>Fixed <code>erde</code> (REPL) and <code>erde run</code> not respecting <code>--target</code> (<a href="https://github.com/erde-lang/erde/issues/11" target="_blank" rel="noopener noreferrer">https://github.com/erde-lang/erde/issues/11</a>)</li><li>Fixed global destructuring (<a href="https://github.com/erde-lang/erde/issues/14" target="_blank" rel="noopener noreferrer">https://github.com/erde-lang/erde/issues/14</a>)</li><li>Global declarations now directly mutate <code>_G</code> (<a href="https://github.com/erde-lang/erde/issues/15" target="_blank" rel="noopener noreferrer">https://github.com/erde-lang/erde/issues/15</a>)</li><li>Fixed compilation of Lua (but not Erde) keyword (<a href="https://github.com/erde-lang/erde/issues/8" target="_blank" rel="noopener noreferrer">https://github.com/erde-lang/erde/issues/8</a>)</li><li>Fixed greedy tokenization of <code>\</code> in block strings (error when tokenizing <code>[[\]]</code>)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="added-1">Added<a href="#added-1" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h3><ul><li>Allow passing in options in <code>erde.compile</code></li><li>Allow disabling caching source maps</li><li>Added <code>erde sourcemap</code> command to CLI help</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="050-1---april-01-2023">[0.5.0-1]<!-- --> - April 01, 2023<a href="#050-1---april-01-2023" class="hash-link" aria-label="Direct link to 050-1---april-01-2023" title="Direct link to 050-1---april-01-2023">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="removed">Removed<a href="#removed" class="hash-link" aria-label="Direct link to Removed" title="Direct link to Removed">​</a></h3><ul><li>BREAKING CHANGE: Removed <code>try...catch</code> statements<ul><li><code>pcall</code> paradigm suffices, <code>try...catch</code> statement in practice was not <em>that</em> useful</li><li>Do not want to split code styles on <code>pcall</code> vs <code>try...catch</code></li></ul></li><li>Removed <code>erdeXXX</code> executables (<code>erdejit</code>, <code>erde5.1</code>, etc).<ul><li>Did not realize luarocks wraps these Lua scripts and forces their running Lua version</li><li>Not as useful now that <code>erde.load</code> automatically infers the target</li><li>Polluted path a little bit (lots of executables, especially when installing for multiple versions)</li></ul></li><li>Removed <code>-d</code>, <code>--debug</code> cli option</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changed-2">Changed<a href="#changed-2" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h3><ul><li>Erde now allows all number forms for all Lua targets and will transpile numbers to decimal format (including newly added binary literals).</li><li><code>erde</code> cli no longer requires the subcommand to appear directly after <code>erde</code> (flags in between are accepted)</li><li><code>erde</code> cli defaults <code>compile</code> and <code>clean</code> args to the current directory.</li><li>Erde now throws an error when trying to call <code>load</code> with an invalid Lua target.</li><li>Erde now overrides Lua&#x27;s <code>debug.traceback</code> on <code>load</code>.<ul><li>Can be disabled in <code>load</code> options using <code>keep_traceback</code></li><li>Lua&#x27;s native <code>debug.traceback</code> is restored when calling <code>unload</code></li></ul></li><li>Erde now infers a version for <code>load</code> automatically based on <code>_VERSION</code> when one is not specified.</li><li>Erde no longer catches and rethrows errors internally.<ul><li>Previously used custom rethrown data type w/ <code>__tostring</code> metamethod, (overcomplicated, not user friendly)</li><li>Catching and rethrowing <em>changes the call stack</em>. Want to avoid this, as it causes confusion when debugging.</li><li>Still cannot handle the case when <em>callbacks</em> written in Erde but run in Lua throw errors.</li><li>Easier / simplest to have user handle error rewriting themselves at top level<ul><li>Often times this will be automatically handled since we override <code>debug.traceback</code> on <code>load</code></li></ul></li><li><code>erde</code> cli will still rewrite errors (repl and <code>erde run</code>)</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-2">Fixed<a href="#fixed-2" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h3><ul><li>Fixed compiling of chained function calls (ex. <code>myfunc()()</code>)</li><li>Erde now properly ignores escape sequences (except interpolation) in block strings (<code>[[ ... ]]</code>)</li><li>Fixed <code>erde</code> compile / clean checks for empty Lua files (<code>is_compiled_file</code>)</li><li>Erde now properly rewrites source <em>references</em> in error messages (ex. <code>xxx: in function &lt;my_erde_file.erde:174&gt;</code>)</li><li>Erde now properly checks for invalid varargs for arrow functions with implicit params</li><li>Erde now properly injects the erde package loader when using the repl.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="added-2">Added<a href="#added-2" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h3><ul><li>Allow binary literals (ex. <code>print(0b100)</code>) for all Lua targets.</li><li>Allow strings to act as index chain bases without parentheses.<ul><li>ex) <code>&#x27;mystring&#x27;:find(&#x27;my&#x27;)</code></li></ul></li><li>Compiled files now include the version of Erde used at the bottom of the compiled file.</li><li>Allow specifying bitlib in <code>load</code> options</li><li>Added <code>sourcemap</code> subcommand for debugging</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="040-1---january-7-2023">[0.4.0-1]<!-- --> - January 7, 2023<a href="#040-1---january-7-2023" class="hash-link" aria-label="Direct link to 040-1---january-7-2023" title="Direct link to 040-1---january-7-2023">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changed-3">Changed<a href="#changed-3" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h3><ul><li>CLI options now use all lowercase (more standard)<ul><li><code>--outDir</code> is now <code>--outdir</code></li><li><code>--bitLib</code> is now <code>--bitlib</code></li></ul></li><li>Readline history no longer saves empty lines</li><li>Parser now properly checks varargs scope (cannot be used outside vararg function)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-3">Fixed<a href="#fixed-3" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h3><ul><li>Fixed <code>module</code> declarations with destructuring</li><li>Long strings no longer throw errors for unrecognized escape chars (same behavior as Lua)</li><li>Fixed determining ReturnList variants</li><li>Fixed compile error when return arrow function <code>return () -&gt; { ... }</code></li><li>Fixed readline history not saving</li><li>Fixed ambiguous iife syntax in compiled Lua (inject semicolon)</li><li>CLI now checks one extra character when looking for the compiled footer comment (handle trailing newlines injected by editor)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="added-3">Added<a href="#added-3" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h3><ul><li>Added versioned executables to allow specifying the underlying lua executable version. Each additionally sets <code>--target</code> appropriately.<ul><li><code>erde5.1</code> - sets <code>--target 5.1</code> and uses <code>lua5.1</code> executable</li><li><code>erde5.2</code> - sets <code>--target 5.2</code> and uses <code>lua5.2</code> executable</li><li><code>erde5.3</code> - sets <code>--target 5.3</code> and uses <code>lua5.3</code> executable</li><li><code>erde5.4</code> - sets <code>--target 5.4</code> and uses <code>lua5.4</code> executable</li><li><code>erdejit</code> - sets <code>--target jit</code> and uses <code>luajit</code> executable</li></ul></li><li>Any arguments following a script to be run are now accessible in the script via the <code>arg</code> global (same behavior as Lua)<ul><li>ex) <code>erde myscript.erde &quot;myscript_arg1&quot;</code></li></ul></li><li>CLI now supports overwriting existing Lua files when compiling with <code>-f, --force</code></li><li>CLI now supports printing compiled code instead of writing to files with <code>-p, --print</code> (useful for debugging)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="030-2---november-7-2022">[0.3.0-2]<!-- --> - November 7, 2022<a href="#030-2---november-7-2022" class="hash-link" aria-label="Direct link to 030-2---november-7-2022" title="Direct link to 030-2---november-7-2022">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="removed-1">Removed<a href="#removed-1" class="hash-link" aria-label="Direct link to Removed" title="Direct link to Removed">​</a></h3><ul><li>Erde no longer depends on <a href="https://luarocks.org/modules/argparse/argparse" target="_blank" rel="noopener noreferrer">argparse</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changed-4">Changed<a href="#changed-4" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h3><ul><li><code>erde run</code> no longer uses a subcommand</li><li><code>erde compile</code> and <code>erde clean</code> no longer default to cwd</li><li>Improved error messages and error handling</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-4">Fixed<a href="#fixed-4" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h3><ul><li>Fix assignment operator compiled operation</li><li>Fixed compilation error rewriting for asserts</li><li>Fixed compilation of exponentiation operator for pre Lua5.3</li><li>Fixed empty message when error does not have stacktrace</li><li>Fixed <code>C.BITLIB</code> vs <code>C.BIT_LIB</code> inconsistencies</li><li>Fixed empty file compilation</li><li>Erde now substitutes variable names that are keywords in Lua but not in Erde (previously produced invalid Lua code)</li><li>Erde now reports error lines at the start of the error (previously reported <em>after</em>)</li><li>Erde now correctly preserves newlines following interpolations in long strings.</li><li>Erde now correctly rewrites top level errors (previously always used main file source map)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="added-4">Added<a href="#added-4" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h3><ul><li>Added <!-- -->_<!-- -->_<!-- -->tostring metamethod for thrown table errors (especially useful for sandboxed, embedded lua such as neovim)</li><li>Added line numbers for errors when using <code>erde compile</code></li><li>Added REPL support</li><li>Throw error when <code>return</code> statement is not the last statement in a block</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="030-1---august-26-2022">[0.3.0-1]<!-- --> - August 26, 2022<a href="#030-1---august-26-2022" class="hash-link" aria-label="Direct link to 030-1---august-26-2022" title="Direct link to 030-1---august-26-2022">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="removed-2">Removed<a href="#removed-2" class="hash-link" aria-label="Direct link to Removed" title="Direct link to Removed">​</a></h3><ul><li>Removed <code>do</code> expressions.</li><li>Removed spread operator.</li><li>Removed optional chaining.</li><li>Removed <code>erde.loader</code> (replaced by <code>require(&#x27;erde&#x27;).load</code> api)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changed-5">Changed<a href="#changed-5" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h3><ul><li>Reverted split of <code>erde</code> and <code>erdec</code> in favor of more <code>pacman</code> like &quot;main flags&quot;.</li><li>Improved <code>erde --help</code> output.</li><li><code>erde</code> now runs with the regular lua shebang (<code>#!/usr/bin/env lua</code> instead of <code>#!/usr/bin/env luajit</code>)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="added-5">Added<a href="#added-5" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h3><ul><li>Erde now supports running on Lua 5.1+</li><li><code>erde</code> now accepts Lua targets to compile to, with specific Lua version compatabilities</li><li><code>erde</code> now accepts specifying a bit library to compile bit operations to</li><li>Erde now generates souce maps and will rewrite errors when running scripts via the CLI or using <code>erde.load</code>.</li><li>Several new apis have been added both to replace <code>erde.loader</code> and to allow for better error handling<ul><li><code>erde.rewrite</code> - rewrite Lua errors using a source map. Does a best-effort
lookup for cached source map when one is not provided</li><li><code>erde.traceback</code> - erde version of <code>debug.traceback</code> w/ line rewrites</li><li><code>erde.load</code> - replacement for <code>erde.loader</code>, with an optional lua target
as a parameter.</li><li><code>erde.unload</code> - api to remove the injected erde loader (from a previous call
to <code>erde.load</code>).</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="020-1---june-03-2022">[0.2.0-1]<!-- --> - June 03, 2022<a href="#020-1---june-03-2022" class="hash-link" aria-label="Direct link to 020-1---june-03-2022" title="Direct link to 020-1---june-03-2022">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="removed-3">Removed<a href="#removed-3" class="hash-link" aria-label="Direct link to Removed" title="Direct link to Removed">​</a></h3><ul><li>Removed <code>self</code> shorthand <code>$</code>. Completely unnecessary and confusing.</li><li>Removed <code>main</code> keyword. Completely unnecessary and confusing.</li><li>Removed ternary / null coalescing operator<ul><li>Ternary created ambiguous syntax (<code>a ? b:c() : d()</code> vs <code>a ? b : c():d()</code>)</li><li>Both difficult to optimize (requires iife)</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changed-6">Changed<a href="#changed-6" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h3><ul><li>Refactored internal structure (now cleaner / faster)</li><li>Erde now uses a newline to differentiate syntax ambiguity</li><li>Erde no longer parses number destruct aliases as valid syntax</li><li>Varargs now spreads when used as a table or param expression.</li><li>Erde no longer allows trailing commas in Return expressions unless parentheses are present</li><li><code>erde.loader</code> no longer mutates the global require function, but uses <code>package.loaders</code> (as it should)</li><li><code>catch</code> var no longer uses parentheses (more lua like)</li><li><code>catch</code> var can now be a destructure</li><li>Array destructures can no longer be nested inside map destructures</li><li>String interpolation is no longer supported for single quote strings</li><li>The <code>erde</code> executable has been split into <code>erde</code> (interpreter) and <code>erdec</code> (compiler)<ul><li><code>argparse</code> does not allow arguments if subcommands are used, which means we
could not do: <code>erde myfile.erde</code> to run a file. This was very unfriendly to
scripts that may want to use a shebang with <code>erde</code>.</li><li>Use a similar structure as moonscript for familiarity.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-5">Fixed<a href="#fixed-5" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h3><ul><li>Tokenizer now correctly consumes whitespace in string interpolation.</li><li>String interpolation w/ names now compiles correctly.</li><li>Parenthesized Return now parses correctly.</li><li>Keywords are now allowed as named index chains (ex: x.if, y:else()).</li><li><code>!=</code> operator is now <em>actually</em> compiled.</li><li>OptChain now correctly parses optional <em>method</em> calls</li><li>Fixed void <code>return</code> (i.e. no expressions)</li><li>Parser / compiler no longer crash when the ast is empty</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="010-1---march-3-2022">[0.1.0-1]<!-- --> - March 3, 2022<a href="#010-1---march-3-2022" class="hash-link" aria-label="Direct link to 010-1---march-3-2022" title="Direct link to 010-1---march-3-2022">​</a></h2><p>Initial Release</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/playground"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Playground</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#100-1---august-11-2023" class="table-of-contents__link toc-highlight">1.0.0-1 - August 11, 2023</a><ul><li><a href="#changed" class="table-of-contents__link toc-highlight">Changed</a></li><li><a href="#fixed" class="table-of-contents__link toc-highlight">Fixed</a></li><li><a href="#added" class="table-of-contents__link toc-highlight">Added</a></li></ul></li><li><a href="#060-1---june-16-2023" class="table-of-contents__link toc-highlight">0.6.0-1 - June 16, 2023</a><ul><li><a href="#changed-1" class="table-of-contents__link toc-highlight">Changed</a></li><li><a href="#fixed-1" class="table-of-contents__link toc-highlight">Fixed</a></li><li><a href="#added-1" class="table-of-contents__link toc-highlight">Added</a></li></ul></li><li><a href="#050-1---april-01-2023" class="table-of-contents__link toc-highlight">0.5.0-1 - April 01, 2023</a><ul><li><a href="#removed" class="table-of-contents__link toc-highlight">Removed</a></li><li><a href="#changed-2" class="table-of-contents__link toc-highlight">Changed</a></li><li><a href="#fixed-2" class="table-of-contents__link toc-highlight">Fixed</a></li><li><a href="#added-2" class="table-of-contents__link toc-highlight">Added</a></li></ul></li><li><a href="#040-1---january-7-2023" class="table-of-contents__link toc-highlight">0.4.0-1 - January 7, 2023</a><ul><li><a href="#changed-3" class="table-of-contents__link toc-highlight">Changed</a></li><li><a href="#fixed-3" class="table-of-contents__link toc-highlight">Fixed</a></li><li><a href="#added-3" class="table-of-contents__link toc-highlight">Added</a></li></ul></li><li><a href="#030-2---november-7-2022" class="table-of-contents__link toc-highlight">0.3.0-2 - November 7, 2022</a><ul><li><a href="#removed-1" class="table-of-contents__link toc-highlight">Removed</a></li><li><a href="#changed-4" class="table-of-contents__link toc-highlight">Changed</a></li><li><a href="#fixed-4" class="table-of-contents__link toc-highlight">Fixed</a></li><li><a href="#added-4" class="table-of-contents__link toc-highlight">Added</a></li></ul></li><li><a href="#030-1---august-26-2022" class="table-of-contents__link toc-highlight">0.3.0-1 - August 26, 2022</a><ul><li><a href="#removed-2" class="table-of-contents__link toc-highlight">Removed</a></li><li><a href="#changed-5" class="table-of-contents__link toc-highlight">Changed</a></li><li><a href="#added-5" class="table-of-contents__link toc-highlight">Added</a></li></ul></li><li><a href="#020-1---june-03-2022" class="table-of-contents__link toc-highlight">0.2.0-1 - June 03, 2022</a><ul><li><a href="#removed-3" class="table-of-contents__link toc-highlight">Removed</a></li><li><a href="#changed-6" class="table-of-contents__link toc-highlight">Changed</a></li><li><a href="#fixed-5" class="table-of-contents__link toc-highlight">Fixed</a></li></ul></li><li><a href="#010-1---march-3-2022" class="table-of-contents__link toc-highlight">0.1.0-1 - March 3, 2022</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.98e112e3.js"></script>
<script src="/assets/js/main.c49dfe16.js"></script>
</body>
</html>